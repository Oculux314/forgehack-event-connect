permissions:
  scopes:
    - read:confluence-user
    - storage:app
  external:
    fetch:
      backend:
        - 'https://api.sendgrid.com/v3/'

modules:
  confluence:globalPage:
    - key: dashboard
      resource: dashboard-cra
      resolver:
        function: resolver
      title: Dashboard
      route: preferences
  function:
    - key: resolver
      handler: resolvers.handler
    - key: scheduled-trigger
      handler: triggers.scheduledTrigger
  webtrigger:
    - key: temporary-development-webtrigger
      function: scheduled-trigger
  scheduledTrigger:
    - key: scheduled-trigger-email
      function: scheduled-trigger
      interval: hour

resources:
  - key: dashboard-cra
    path: src/dashboard/build

app:
  runtime:
    name: nodejs18.x
  id: ari:cloud:ecosystem::app/eaf260e4-ff73-476a-a00f-cc421922aa68
